import { __decorate } from 'tslib';
import { Input, Component, forwardRef, NgModule } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';

var AngularInputNumberComponent_1;
let AngularInputNumberComponent = AngularInputNumberComponent_1 = class AngularInputNumberComponent {
    constructor() {
        this._value = 0;
        this.propagateChange = (_) => { };
    }
    onChange(event) {
        this.propagateChange(this._value);
    }
    onKeyDown(event) {
        const pattern = new RegExp('[0-9]|\\*');
        if (!pattern.test(event.key) && event.key !== "Backspace" && event.key !== "Delete") {
            event.preventDefault();
        }
    }
    onKyUp(event) {
        this._value = event.currentTarget.valueAsNumber;
        this.propagateChange(event.currentTarget.valueAsNumber);
    }
    registerOnChange(fn) {
        this.propagateChange = fn;
    }
    registerOnTouched(fn) {
    }
    writeValue(val) {
        this._value = val;
    }
    setDisabledState(val) {
        if (this.disabled == null) {
            this.disabled = false;
        }
    }
    ngOnInit() {
    }
    increaseValue() {
        if (this.max !== undefined && this._value >= this.max) {
            return;
        }
        this._value += 1;
        this.onChange(this._value);
    }
    decreaseValue() {
        if (this.min !== undefined && this._value <= this.min) {
            return;
        }
        this._value -= 1;
        this.onChange(this._value);
    }
    get value() {
        return this._value;
    }
    set value(val) {
        this._value = val;
        this.onChange(val);
    }
};
__decorate([
    Input()
], AngularInputNumberComponent.prototype, "min", void 0);
__decorate([
    Input()
], AngularInputNumberComponent.prototype, "max", void 0);
AngularInputNumberComponent = AngularInputNumberComponent_1 = __decorate([
    Component({
        selector: 'lib-angular-input-number',
        template: "<div class=\"\">\r\n  <input [disabled]=\"disabled\" [value]=\"_value\" placeholder=\"*\" (change)=\"onChange($event)\"\r\n         (keyup)=\"onKyUp($event)\" type=\"number\" pattern=\"(\\d*)\" min=\"{{min}}\" max=\"{{max}}\" />\r\n</div>\r\n\r\n<div class=\"input-group-btn\">\r\n  <button class=\"btn button-ancestor down\" type=\"button\" (click)=\"decreaseValue()\"></button>\r\n  <button class=\"btn button-ancestor up\" type=\"button\" (click)=\"increaseValue()\"></button>\r\n</div>\r\n",
        providers: [{
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => AngularInputNumberComponent_1),
                multi: true,
            }],
        styles: ["input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:focus{outline:0!important}input[type=number]{-moz-appearance:textfield}input{text-align:center;font-size:4rem;border:none;-webkit-appearance:none;width:102px;margin:0;background-color:transparent}input::-webkit-input-placeholder{color:#fff}input::-moz-placeholder{color:#fff}input:-ms-input-placeholder{color:#fff}input::-ms-input-placeholder{color:#fff}input::placeholder{color:#fff}.button-ancestor{background-repeat:no-repeat;height:26px;width:51px;background-color:transparent;border:0 solid transparent;-webkit-transform:scale(1);transform:scale(1)}.button-ancestor:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.button-ancestor.down{float:left;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4wIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI1MXB4IiBoZWlnaHQ9IjI2cHgiIHZpZXdCb3g9IjAgMCA1MSAyNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEgMjY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMxODExMkQ7fQ0KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDIuNiwyNkgzLjNjLTEuNywwLTIuOC0xLjQtMi40LTMuMUw1LjIsMy4yQzUuNSwxLjUsNy4yLDAuMSw5LDAuMWgzOS40YzEuNywwLDIuOCwxLjQsMi40LDMuMWwtNC4zLDE5LjcNCglDNDYuMSwyNC42LDQ0LjQsMjYsNDIuNiwyNnoiLz4NCjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMi42LDExLjJsLTUuNyw1LjVjLTAuNSwwLjUtMS40LDAuNS0xLjksMGwtNS43LTUuNWMtMC41LTAuNS0wLjUtMS4zLDAtMS44YzAuNS0wLjUsMS40LTAuNSwxLjksMGw0LjcsNC41DQoJbDQuNy00LjVjMC41LTAuNSwxLjQtMC41LDEuOSwwQzMzLjEsOS45LDMzLjEsMTAuNywzMi42LDExLjJ6Ii8+DQo8L3N2Zz4NCg==);margin-top:6px}.button-ancestor.down:focus{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4wIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI1MXB4IiBoZWlnaHQ9IjI2cHgiIHZpZXdCb3g9IjAgMCA1MSAyNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEgMjY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMxODExMkQ7fQ0KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDIuNiwyNkgzLjNjLTEuNywwLTIuOC0xLjQtMi40LTMuMUw1LjIsMy4yQzUuNSwxLjUsNy4yLDAuMSw5LDAuMWgzOS40YzEuNywwLDIuOCwxLjQsMi40LDMuMWwtNC4zLDE5LjcNCglDNDYuMSwyNC42LDQ0LjQsMjYsNDIuNiwyNnoiLz4NCjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMi42LDExLjJsLTUuNyw1LjVjLTAuNSwwLjUtMS40LDAuNS0xLjksMGwtNS43LTUuNWMtMC41LTAuNS0wLjUtMS4zLDAtMS44YzAuNS0wLjUsMS40LTAuNSwxLjksMGw0LjcsNC41DQoJbDQuNy00LjVjMC41LTAuNSwxLjQtMC41LDEuOSwwQzMzLjEsOS45LDMzLjEsMTAuNywzMi42LDExLjJ6Ii8+DQo8L3N2Zz4NCg==);margin-top:6px;outline:0!important;border:none}.button-ancestor.up{float:left;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4wIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI1MXB4IiBoZWlnaHQ9IjI2cHgiIHZpZXdCb3g9IjAgMCA1MSAyNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEgMjY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM0QzYxODk7fQ0KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC40LDBoMzkuNGMxLjcsMCwyLjgsMS40LDIuNCwzLjFsLTQuMywxOS43Yy0wLjQsMS43LTIuMSwzLjEtMy44LDMuMUgyLjZjLTEuNywwLTIuOC0xLjQtMi40LTMuMUw0LjYsMy4xDQoJQzQuOSwxLjQsNi42LDAsOC40LDB6Ii8+DQo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTguNCwxNC44bDUuNy01LjVjMC41LTAuNSwxLjQtMC41LDEuOSwwbDUuNyw1LjVjMC41LDAuNSwwLjUsMS4zLDAsMS44Yy0wLjUsMC41LTEuNCwwLjUtMS45LDBMMjUsMTIuMQ0KCWwtNC43LDQuNWMtMC41LDAuNS0xLjQsMC41LTEuOSwwQzE3LjksMTYuMSwxNy45LDE1LjMsMTguNCwxNC44eiIvPg0KPC9zdmc+DQo=);outline:0!important}.button-ancestor.up:focus{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4wIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI1MXB4IiBoZWlnaHQ9IjI2cHgiIHZpZXdCb3g9IjAgMCA1MSAyNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEgMjY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM0QzYxODk7fQ0KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC40LDBoMzkuNGMxLjcsMCwyLjgsMS40LDIuNCwzLjFsLTQuMywxOS43Yy0wLjQsMS43LTIuMSwzLjEtMy44LDMuMUgyLjZjLTEuNywwLTIuOC0xLjQtMi40LTMuMUw0LjYsMy4xDQoJQzQuOSwxLjQsNi42LDAsOC40LDB6Ii8+DQo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTguNCwxNC44bDUuNy01LjVjMC41LTAuNSwxLjQtMC41LDEuOSwwbDUuNyw1LjVjMC41LDAuNSwwLjUsMS4zLDAsMS44Yy0wLjUsMC41LTEuNCwwLjUtMS45LDBMMjUsMTIuMQ0KCWwtNC43LDQuNWMtMC41LDAuNS0xLjQsMC41LTEuOSwwQzE3LjksMTYuMSwxNy45LDE1LjMsMTguNCwxNC44eiIvPg0KPC9zdmc+DQo=);outline:0!important}"]
    })
], AngularInputNumberComponent);

let AngularInputNumberModule = class AngularInputNumberModule {
};
AngularInputNumberModule = __decorate([
    NgModule({
        declarations: [AngularInputNumberComponent],
        imports: [],
        exports: [AngularInputNumberComponent]
    })
], AngularInputNumberModule);

/**
 * Generated bundle index. Do not edit.
 */

export { AngularInputNumberComponent, AngularInputNumberModule };
//# sourceMappingURL=angular-input-number.js.map
